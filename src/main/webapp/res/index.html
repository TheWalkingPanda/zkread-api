<!DOCTYPE html>
<html>
  <head>
    <title>test</title>
  </head>
  
  <body>
  	<button id="send">发送请求</button>
  	
  	
  	<script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
  	<script type="text/javascript">
  		$(function(){
  			$("#send").click(function(){
  				var user = {
  						"username":"testUser",
  						"password":"123456",
  						"email":"test@test.com"
  				}
  				var data = {
  						"newUser":user
  				}
  				var url = "/users";
  				
  				doPost(url, user, function(data){
  									console.log(data);
  									alert("success!");
  								  }, 
  								  function(data){
  									console.log(data);
  									alert("error!");
  								  });
  			});
  			
  			
  			
  			function doAjax(type, url, data, _success, _error){
  				$.ajax({
  					type:"POST",
  					url:"/api/v1/users",
  					data:data,
  					success:_success,
  					error:_error
  				});
  			}
  			
  			function doGet(url, data, _success, _error){
  				doAjax("GET", url, data, _success, _error);
  			}
  			
  			function doPost(url, data, _success, _error){
  				doAjax("POST", url, data, _success, _error);
  			}
  		});
  	</script>
  </body>
</html>
